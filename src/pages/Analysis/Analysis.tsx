import { useSelector } from "react-redux";
import TabBar from "../../components/TabBar";
import { RootState } from "../../store";

import styles from "./Analysis.module.scss";

const Analysis = ({ history }: { history: any }) => {
  const username = useSelector(
    (state: RootState) => state.userReducer.username
  );

  return (
    <div className={styles.container}>
      <div className={styles.wrapper}>
        <svg
          viewBox="0 0 375 83"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className={styles.svgTop}
        >
          <path
            d="M-1 61.3605L8.024 62.8693C17.048 64.3782 35.096 67.3959 52.9435 71.7716C70.8912 76.0971 88.5381 81.8307 106.486 82.8366C124.333 83.8426 142.381 80.1207 160.229 73.9343C178.177 67.748 195.823 58.9966 213.771 57.4374C231.619 55.828 249.667 61.3605 267.514 65.032C285.462 68.7539 303.109 70.5645 321.057 67.1445C338.904 63.7244 356.952 54.973 365.976 50.6475L375 46.2718V0H365.976C356.952 0 338.904 0 321.057 0C303.109 0 285.462 0 267.514 0C249.667 0 231.619 0 213.771 0C195.823 0 178.177 0 160.229 0C142.381 0 124.333 0 106.486 0C88.5381 0 70.8912 0 52.9435 0C35.096 0 17.048 0 8.024 0H-1V61.3605Z"
            fill="#F2A04F"
          />
          <path
            d="M-5 36.4309L4.12 37.4065C13.24 38.3821 31.48 40.3333 49.5173 44.8862C67.656 49.439 85.4907 56.5935 103.629 57.2439C121.667 57.8943 139.907 52.0407 157.944 50.4146C176.083 48.7886 193.917 51.3903 212.056 53.4716C230.093 55.4878 248.333 57.0488 266.371 59.1951C284.509 61.3415 302.344 64.2032 320.483 65.5691C338.52 67 356.76 67 365.88 67H375V-13H365.88C356.76 -13 338.52 -13 320.483 -13C302.344 -13 284.509 -13 266.371 -13C248.333 -13 230.093 -13 212.056 -13C193.917 -13 176.083 -13 157.944 -13C139.907 -13 121.667 -13 103.629 -13C85.4907 -13 67.656 -13 49.5173 -13C31.48 -13 13.24 -13 4.12 -13H-5V36.4309Z"
            fill="#F1973F"
          />
        </svg>

        <div
          className={styles.contents}
          onClick={() => history.push("/result")} // 시안을 위해 해둔 것. 나중에는 로딩스피너 대신 이 페이지 사용하기
        >
          <h1>
            데이즈가 {username}님의 <br /> 하루를 보고있어요.
          </h1>
          <p>조금 시간이 걸릴 수 있어요.</p>
        </div>

        <svg
          viewBox="0 0 375 180"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className={styles.svgBottom}
        >
          <path
            d="M0 0L9 13.5C18 27 36 54 53.8 64.3C71.7 74.7 89.3 68.3 107.2 67.8C125 67.3 143 72.7 160.8 63.7C178.7 54.7 196.3 31.3 214.2 21.8C232 12.3 250 16.7 267.8 20.3C285.7 24 303.3 27 321.2 33.2C339 39.3 357 48.7 366 53.3L375 58V213H366C357 213 339 213 321.2 213C303.3 213 285.7 213 267.8 213C250 213 232 213 214.2 213C196.3 213 178.7 213 160.8 213C143 213 125 213 107.2 213C89.3 213 71.7 213 53.8 213C36 213 18 213 9 213H0V0Z"
            fill="#F3A95F"
          />
          <path
            d="M0 90.9999L9 87.9999C18 84.9999 36 78.9999 53.8 70.2999C71.7 61.6999 89.3 50.2999 107.2 48.2999C125 46.2999 143 53.6999 160.8 65.9999C178.7 78.2999 196.3 95.6999 214.2 98.7999C232 102 250 90.9999 267.8 83.6999C285.7 76.2999 303.3 72.6999 321.2 79.4999C339 86.2999 357 103.7 366 112.3L375 121V213H366C357 213 339 213 321.2 213C303.3 213 285.7 213 267.8 213C250 213 232 213 214.2 213C196.3 213 178.7 213 160.8 213C143 213 125 213 107.2 213C89.3 213 71.7 213 53.8 213C36 213 18 213 9 213H0V90.9999Z"
            fill="#F2A04F"
          />
          <path
            d="M0 137L9 135.5C18 134 36 131 53.8 124C71.7 117 89.3 106 107.2 105C125 104 143 113 160.8 115.5C178.7 118 196.3 114 214.2 110.8C232 107.7 250 105.3 267.8 102C285.7 98.7 303.3 94.3 321.2 92.2C339 90 357 90 366 90H375V213H366C357 213 339 213 321.2 213C303.3 213 285.7 213 267.8 213C250 213 232 213 214.2 213C196.3 213 178.7 213 160.8 213C143 213 125 213 107.2 213C89.3 213 71.7 213 53.8 213C36 213 18 213 9 213H0V137Z"
            fill="#F1973F"
          />
        </svg>
      </div>

      <TabBar />
    </div>
  );
};

export default Analysis;
